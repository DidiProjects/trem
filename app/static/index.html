<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API - Interface</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>API Tools</h1>
            <p>Interface para manipula√ß√£o de arquivos</p>
            <div class="api-url-display">
                <span class="label">Base URL:</span>
                <code id="baseUrlDisplay"></code>
            </div>
        </header>

        <div class="api-key-section">
            <label for="apiKey">API Key</label>
            <div class="input-group">
                <input type="password" id="apiKey" placeholder="Digite sua API Key">
                <button onclick="toggleApiKeyVisibility()" class="btn-icon">üëÅ</button>
            </div>
        </div>

        <div class="main-tabs">
            <button class="main-tab active" data-section="pdf">PDF</button>
            <button class="main-tab" data-section="outros">Outros</button>
        </div>

        <div class="section-content active" id="section-pdf">
            <div class="endpoints-section">
                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/split</span>
                            <span class="description">Extrair p√°ginas espec√≠ficas do PDF</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>file</td><td>file</td><td>Arquivo PDF</td></tr>
                                    <tr><td>pages</td><td>string</td><td>P√°ginas a extrair (ex: 1-3,5,7-10)</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>Headers</h4>
                                <pre class="code-block">X-API-Key: sua-api-key</pre>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example" data-endpoint="/pdf/split">curl -X POST "<span class="base-url"></span>/pdf/split" \
  -H "X-API-Key: sua-api-key" \
  -F "file=@documento.pdf" \
  -F "pages=1-3"</pre>
                            </div>
                        </div>
                        <form id="splitForm" class="api-form">
                            <div class="form-group">
                                <label for="splitFile">Arquivo PDF</label>
                                <input type="file" id="splitFile" accept=".pdf" required>
                            </div>
                            <div class="form-group">
                                <label for="splitPages">P√°ginas</label>
                                <input type="text" id="splitPages" placeholder="Ex: 1-3,5,7-10" required>
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                    </div>
                </div>

                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/extract-pages</span>
                            <span class="description">Separar todas as p√°ginas em arquivos individuais</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>file</td><td>file</td><td>Arquivo PDF</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>Response</h4>
                                <pre class="code-block">application/zip (arquivo ZIP com todas as p√°ginas)</pre>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example">curl -X POST "<span class="base-url"></span>/pdf/extract-pages" \
  -H "X-API-Key: sua-api-key" \
  -F "file=@documento.pdf" \
  --output paginas.zip</pre>
                            </div>
                        </div>
                        <form id="extractForm" class="api-form">
                            <div class="form-group">
                                <label for="extractFile">Arquivo PDF</label>
                                <input type="file" id="extractFile" accept=".pdf" required>
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                    </div>
                </div>

                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/merge</span>
                            <span class="description">Juntar m√∫ltiplos PDFs em um √∫nico arquivo</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>files</td><td>file[]</td><td>2 ou mais arquivos PDF</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example">curl -X POST "<span class="base-url"></span>/pdf/merge" \
  -H "X-API-Key: sua-api-key" \
  -F "files=@doc1.pdf" \
  -F "files=@doc2.pdf" \
  --output merged.pdf</pre>
                            </div>
                        </div>
                        <form id="mergeForm" class="api-form">
                            <div class="form-group">
                                <label for="mergeFiles">Arquivos PDF</label>
                                <input type="file" id="mergeFiles" accept=".pdf" multiple required>
                                <small>Selecione 2 ou mais arquivos</small>
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                    </div>
                </div>

                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/add-password</span>
                            <span class="description">Adicionar senha de prote√ß√£o ao PDF</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>file</td><td>file</td><td>Arquivo PDF</td></tr>
                                    <tr><td>user_password</td><td>string</td><td>Senha para abrir o PDF</td></tr>
                                    <tr><td>owner_password</td><td>string</td><td>Senha do propriet√°rio (opcional)</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example">curl -X POST "<span class="base-url"></span>/pdf/add-password" \
  -H "X-API-Key: sua-api-key" \
  -F "file=@documento.pdf" \
  -F "user_password=minhasenha" \
  --output protegido.pdf</pre>
                            </div>
                        </div>
                        <form id="addPasswordForm" class="api-form">
                            <div class="form-group">
                                <label for="addPwdFile">Arquivo PDF</label>
                                <input type="file" id="addPwdFile" accept=".pdf" required>
                            </div>
                            <div class="form-group">
                                <label for="userPassword">Senha do Usu√°rio</label>
                                <input type="password" id="userPassword" placeholder="Senha para abrir o PDF" required>
                            </div>
                            <div class="form-group">
                                <label for="ownerPassword">Senha do Propriet√°rio (opcional)</label>
                                <input type="password" id="ownerPassword" placeholder="Senha para edi√ß√£o">
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                    </div>
                </div>

                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/remove-password</span>
                            <span class="description">Remover senha de um PDF protegido</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>file</td><td>file</td><td>Arquivo PDF protegido</td></tr>
                                    <tr><td>password</td><td>string</td><td>Senha atual do PDF</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example">curl -X POST "<span class="base-url"></span>/pdf/remove-password" \
  -H "X-API-Key: sua-api-key" \
  -F "file=@protegido.pdf" \
  -F "password=minhasenha" \
  --output desbloqueado.pdf</pre>
                            </div>
                        </div>
                        <form id="removePasswordForm" class="api-form">
                            <div class="form-group">
                                <label for="removePwdFile">Arquivo PDF</label>
                                <input type="file" id="removePwdFile" accept=".pdf" required>
                            </div>
                            <div class="form-group">
                                <label for="currentPassword">Senha Atual</label>
                                <input type="password" id="currentPassword" placeholder="Senha do PDF" required>
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                    </div>
                </div>

                <div class="endpoint-card">
                    <div class="endpoint-header" onclick="toggleEndpoint(this)">
                        <div class="endpoint-info">
                            <span class="method post">POST</span>
                            <span class="path">/pdf/info</span>
                            <span class="description">Obter informa√ß√µes e metadados do PDF</span>
                        </div>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>Parameters</h4>
                                <table class="params-table">
                                    <tr><th>Nome</th><th>Tipo</th><th>Descri√ß√£o</th></tr>
                                    <tr><td>file</td><td>file</td><td>Arquivo PDF</td></tr>
                                </table>
                            </div>
                            <div class="detail-section">
                                <h4>Response Example</h4>
                                <pre class="code-block">{
  "filename": "documento.pdf",
  "pages": 10,
  "encrypted": false,
  "pdf_version": "1.7",
  "metadata": {
    "title": "Meu Documento",
    "author": "Autor",
    "subject": null,
    "creator": "App",
    "producer": "pikepdf"
  }
}</pre>
                            </div>
                            <div class="detail-section">
                                <h4>cURL Example</h4>
                                <pre class="code-block curl-example">curl -X POST "<span class="base-url"></span>/pdf/info" \
  -H "X-API-Key: sua-api-key" \
  -F "file=@documento.pdf"</pre>
                            </div>
                        </div>
                        <form id="infoForm" class="api-form">
                            <div class="form-group">
                                <label for="infoFile">Arquivo PDF</label>
                                <input type="file" id="infoFile" accept=".pdf" required>
                            </div>
                            <button type="submit" class="btn-primary">Executar</button>
                        </form>
                        <div id="infoResult" class="result-box hidden"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-content" id="section-outros">
            <div class="empty-state">
                <span class="empty-icon">üöß</span>
                <h3>Em breve</h3>
                <p>Novas funcionalidades ser√£o adicionadas aqui.</p>
            </div>
        </div>

        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
            <p>Processando...</p>
        </div>

        <div id="toast" class="toast hidden"></div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
